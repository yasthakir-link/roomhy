<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Test Booking Data Generator</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
        body { font-family: 'Inter', sans-serif; background-color: #f3f4f6; }
    </style>
</head>
<body class="p-8">
    <div class="max-w-2xl mx-auto">
        <div class="bg-white rounded-lg shadow-lg p-8">
            <h1 class="text-3xl font-bold mb-6">Test Booking Data Generator</h1>
            
            <button onclick="generateTestData()" class="bg-purple-600 text-white px-6 py-3 rounded-lg hover:bg-purple-700 font-bold mb-4">
                Generate Sample Booking Data
            </button>
            
            <button onclick="clearData()" class="bg-red-600 text-white px-6 py-3 rounded-lg hover:bg-red-700 font-bold">
                Clear All Data
            </button>

            <div id="status" class="mt-6 p-4 bg-gray-100 rounded-lg text-gray-700"></div>
        </div>
    </div>

    <script>
        function generateTestData() {
            const statusDiv = document.getElementById('status');
            
            try {
                // Sample booking requests
                const bookingRequests = [
                    {
                        id: 'BR001',
                        property_id: 'PROP001',
                        property_name: 'Luxury Apartment - Downtown',
                        area: 'Kota',
                        property_type: '2BHK',
                        rent_amount: 15000,
                        user_id: 'USER001',
                        area_manager_id: 'AMGR001',
                        request_type: 'booking',
                        bid_amount: 15000,
                        message: 'Interested in viewing the property this week',
                        status: 'pending',
                        visit_type: 'physical',
                        visit_date: '2024-01-15',
                        visit_time_slot: '10:00-11:00',
                        visit_status: 'pending',
                        created_at: new Date().toISOString(),
                        updated_at: new Date().toISOString()
                    },
                    {
                        id: 'BR002',
                        property_id: 'PROP002',
                        property_name: 'Modern Studio Apartment',
                        area: 'Sikar',
                        property_type: '1BHK',
                        rent_amount: 8000,
                        user_id: 'USER002',
                        area_manager_id: 'AMGR001',
                        request_type: 'booking',
                        bid_amount: 7500,
                        message: 'Can negotiate on rent',
                        status: 'approved',
                        visit_type: 'virtual',
                        visit_date: '2024-01-12',
                        visit_time_slot: '14:00-15:00',
                        visit_status: 'completed',
                        created_at: new Date(Date.now() - 86400000).toISOString(),
                        updated_at: new Date(Date.now() - 86400000).toISOString()
                    },
                    {
                        id: 'BR003',
                        property_id: 'PROP003',
                        property_name: 'Spacious Family Home',
                        area: 'Indore',
                        property_type: '3BHK',
                        rent_amount: 25000,
                        user_id: 'USER003',
                        area_manager_id: 'AMGR001',
                        request_type: 'inquiry',
                        bid_amount: 24000,
                        message: 'Looking for long-term lease',
                        status: 'rejected',
                        visit_type: null,
                        visit_date: null,
                        visit_time_slot: null,
                        visit_status: null,
                        created_at: new Date(Date.now() - 172800000).toISOString(),
                        updated_at: new Date(Date.now() - 172800000).toISOString()
                    },
                    {
                        id: 'BR004',
                        property_id: 'PROP004',
                        property_name: 'PG for Students',
                        area: 'Kota',
                        property_type: 'Shared',
                        rent_amount: 5000,
                        user_id: 'USER004',
                        area_manager_id: 'AMGR001',
                        request_type: 'booking',
                        bid_amount: 5000,
                        message: 'Prefer furnished room',
                        status: 'pending',
                        visit_type: 'physical',
                        visit_date: null,
                        visit_time_slot: null,
                        visit_status: 'pending',
                        created_at: new Date(Date.now() - 3600000).toISOString(),
                        updated_at: new Date(Date.now() - 3600000).toISOString()
                    }
                ];

                localStorage.setItem('roomhy_booking_requests', JSON.stringify(bookingRequests));
                
                statusDiv.innerHTML = `
                    <div class="bg-green-100 border border-green-400 text-green-800 p-4 rounded">
                        <h3 class="font-bold mb-2">âœ“ Test Data Generated Successfully!</h3>
                        <p><strong>Booking Requests Created:</strong> ${bookingRequests.length}</p>
                        <p class="mt-2"><strong>Sample Data:</strong></p>
                        <ul class="list-disc ml-6 mt-2">
                            <li>User IDs: USER001, USER002, USER003, USER004</li>
                            <li>Statuses: Pending, Approved, Rejected</li>
                            <li>Areas: Kota, Sikar, Indore</li>
                        </ul>
                        <p class="mt-4"><strong>Note:</strong> You need to have user data in 'roomhy_kyc_verification' table for the names, emails, and phones to display correctly.</p>
                        <p class="mt-2"><a href="booking_request.html" class="text-blue-600 underline">View Booking Requests Table</a></p>
                    </div>
                `;
            } catch (error) {
                statusDiv.innerHTML = `
                    <div class="bg-red-100 border border-red-400 text-red-800 p-4 rounded">
                        <h3 class="font-bold">Error: ${error.message}</h3>
                    </div>
                `;
            }
        }

        function clearData() {
            if (confirm('Are you sure you want to clear all booking request data?')) {
                localStorage.removeItem('roomhy_booking_requests');
                const statusDiv = document.getElementById('status');
                statusDiv.innerHTML = `
                    <div class="bg-yellow-100 border border-yellow-400 text-yellow-800 p-4 rounded">
                        <h3 class="font-bold">âœ“ All booking request data cleared</h3>
                    </div>
                `;
            }
        }
    </script>
</body>
</html>
