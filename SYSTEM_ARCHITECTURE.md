# Tenant Verification System - Visual Architecture

## Data Flow Diagram

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                          PROPERTY OWNER ASSIGNMENT                      â”‚
â”‚                         (propertyowner/rooms.html)                      â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                         â”‚
â”‚  1. Owner clicks "Assign Tenant"                                        â”‚
â”‚  2. Fills: Name, Email, Phone, Property, Room, Rent, Move-in Date     â”‚
â”‚  3. System generates:                                                   â”‚
â”‚     - Unique Tenant ID (TNT-XX-001)                                    â”‚
â”‚     - Temporary Password (A1B2C3D4)                                    â”‚
â”‚  4. Creates localStorage entry: roomhy_tenants[id] = {                â”‚
â”‚       loginId, tempPassword, name, email, phone, ...                  â”‚
â”‚     }                                                                   â”‚
â”‚  5. Shows credentials modal with:                                      â”‚
â”‚     âœ… Login ID                                                        â”‚
â”‚     âœ… Temp Password                                                   â”‚
â”‚     âœ… NEW: 4-Step Onboarding Timeline                                â”‚
â”‚     âœ… NEW: "Details hidden until verification complete"              â”‚
â”‚                                                                         â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                               â”‚
                               â¬‡ï¸ Owner shares credentials with tenant
                               â”‚
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                         TENANT LOGIN                                     â”‚
â”‚                   (propertyowner/tenantlogin.html)                       â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                          â”‚
â”‚  1. Tenant enters: Login ID (TNT-XX-001)                                â”‚
â”‚  2. Tenant enters: Temp Password (A1B2C3D4)                             â”‚
â”‚  3. System verifies:                                                    â”‚
â”‚     - Looks up in roomhy_tenants                                        â”‚
â”‚     - Matches loginId + tempPassword                                    â”‚
â”‚  4. Creates session:                                                    â”‚
â”‚     - localStorage.user = { loginId, name, role: 'tenant' }           â”‚
â”‚  5. Redirects to tenantprofile.html                                     â”‚
â”‚                                                                          â”‚
â”‚  â„¹ï¸ Temporary password expires after first login                        â”‚
â”‚                                                                          â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                               â”‚
                               â¬‡ï¸ Must complete ALL 4 steps
                               â”‚
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    4-STEP ONBOARDING PROCESS                            â”‚
â”‚                   (propertyowner/tenantprofile.html)                    â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                          â”‚
â”‚  STEP 1: SET PASSWORD                                                   â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚ New Password:     [______________]                              â”‚  â”‚
â”‚  â”‚ Confirm:         [______________]                              â”‚  â”‚
â”‚  â”‚ âœ… Continue                                                      â”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â”‚  Completion: Sets tenant.password, tenant.passwordSet = true           â”‚
â”‚  âœ… Step 1 Progress: [â–ˆâ–ˆâ–ˆâ–ˆâ–‘â–‘â–‘â–‘â–‘â–‘] 25%                                 â”‚
â”‚                                                                          â”‚
â”‚  STEP 2: FILL PROFILE                                                   â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚ Name:            John Doe (auto-filled)                         â”‚  â”‚
â”‚  â”‚ Phone:           +91-9876543210 (auto-filled)                  â”‚  â”‚
â”‚  â”‚ Address:         [______________]  â† REQUIRED                   â”‚  â”‚
â”‚  â”‚ DOB:             [__/__/____]  â† REQUIRED                       â”‚  â”‚
â”‚  â”‚ City:            [______________]                              â”‚  â”‚
â”‚  â”‚ PIN:             [______________]                              â”‚  â”‚
â”‚  â”‚ âœ… Save & Continue                                              â”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â”‚  Completion: Sets tenant.address, tenant.dob, tenant.city, tenant.pin  â”‚
â”‚  âœ… Step 2 Progress: [â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–‘â–‘] 50%                                  â”‚
â”‚                                                                          â”‚
â”‚  STEP 3: UPLOAD KYC                                                     â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚ Aadhar Number:   [______________]  â† REQUIRED                   â”‚  â”‚
â”‚  â”‚ ID Proof File:   [ğŸ“ Upload]  â† REQUIRED                        â”‚  â”‚
â”‚  â”‚ Address Proof:   [ğŸ“ Upload]  â† REQUIRED                        â”‚  â”‚
â”‚  â”‚ âœ… Upload & Continue                                             â”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â”‚  Completion: Sets tenant.kycStatus = 'submitted',                      â”‚
â”‚              tenant.kycSubmittedAt = timestamp                         â”‚
â”‚  âœ… Step 3 Progress: [â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–‘â–‘] 75%                              â”‚
â”‚                                                                          â”‚
â”‚  STEP 4: SIGN AGREEMENT                                                 â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚ [Scroll to read rental agreement text...]                      â”‚  â”‚
â”‚  â”‚                                                                 â”‚  â”‚
â”‚  â”‚ â˜ I have read and understand the agreement                    â”‚  â”‚
â”‚  â”‚ â˜ I accept all terms & conditions                             â”‚  â”‚
â”‚  â”‚ âœ… E-Sign & Complete                                            â”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â”‚  Completion: Sets tenant.agreementSigned = true,                       â”‚
â”‚              tenant.agreementSignedAt = timestamp,                     â”‚
â”‚              tenant.onboardingCompleted = true,                        â”‚
â”‚              tenant.completedAt = timestamp                            â”‚
â”‚  âœ… Step 4 Progress: [â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ] 100%                           â”‚
â”‚                                                                          â”‚
â”‚  SUCCESS:                                                               â”‚
â”‚  âœ… Alert: "Onboarding Complete! Proceeding to Dashboard..."          â”‚
â”‚  âœ… Redirects to tenantdashboard.html                                 â”‚
â”‚                                                                          â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                               â”‚
                               â¬‡ï¸ All verification checks pass
                               â”‚
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                     TENANT DASHBOARD ACCESS                             â”‚
â”‚                  (propertyowner/tenantdashboard.html)                   â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                          â”‚
â”‚  ğŸ” VERIFICATION GATE:                                                  â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚  â”‚ function isOnboardingComplete(tenant) {                         â”‚   â”‚
â”‚  â”‚   const hasPassword = tenant.password !== null;                 â”‚   â”‚
â”‚  â”‚   const hasProfile = tenant.address && tenant.dob;              â”‚   â”‚
â”‚  â”‚   const hasKyc = tenant.kycStatus === 'submitted';              â”‚   â”‚
â”‚  â”‚   const hasAgreement = tenant.agreementSigned === true;         â”‚   â”‚
â”‚  â”‚   return hasPassword && hasProfile && hasKyc && hasAgreement;   â”‚   â”‚
â”‚  â”‚ }                                                               â”‚   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â”‚                                                                          â”‚
â”‚  âœ… ALL CHECKS PASS?                                                    â”‚
â”‚  â”‚                                                                      â”‚
â”‚  â”œâ”€ YES â†’ Dashboard Loads:                                             â”‚
â”‚  â”‚        â€¢ Welcome message                                            â”‚
â”‚  â”‚        â€¢ Status cards (Active, Payments, Room, Agreement)           â”‚
â”‚  â”‚        â€¢ Quick actions (View Agreement, Pay Rent)                   â”‚
â”‚  â”‚                                                                      â”‚
â”‚  â””â”€ NO â†’ BLOCKED:                                                       â”‚
â”‚         â€¢ Alert: "Complete your onboarding first!"                     â”‚
â”‚         â€¢ Shows missing steps checklist                                â”‚
â”‚         â€¢ Redirects to tenantprofile.html                              â”‚
â”‚                                                                          â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                               â”‚
                               â¬‡ï¸ Completion status propagates
                               â”‚
        â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
        â”‚                                             â”‚
        â¬‡ï¸                                           â¬‡ï¸
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”          â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚   OWNER TENANT RECORDS    â”‚          â”‚ SUPER ADMIN MANAGEMENT    â”‚
â”‚   (tenantrec.html)        â”‚          â”‚ (tenant.html)             â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤          â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                           â”‚          â”‚                           â”‚
â”‚ ğŸ” VISIBILITY FILTER:     â”‚          â”‚ ğŸ” VISIBILITY FILTER:     â”‚
â”‚                           â”‚          â”‚                           â”‚
â”‚ completedTenants =        â”‚          â”‚ verifiedTenants =         â”‚
â”‚   tenants.filter(t =>     â”‚          â”‚   tenants.filter(t =>     â”‚
â”‚   isOnboardingComplete(t) â”‚          â”‚   isOnboardingComplete(t) â”‚
â”‚   )                       â”‚          â”‚   )                       â”‚
â”‚                           â”‚          â”‚                           â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤          â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                           â”‚          â”‚                           â”‚
â”‚ IF INCOMPLETE:            â”‚          â”‚ IF INCOMPLETE:            â”‚
â”‚ âŒ NOT SHOWN in table     â”‚          â”‚ âŒ NOT SHOWN in table     â”‚
â”‚                           â”‚          â”‚                           â”‚
â”‚ Message:                  â”‚          â”‚ Message:                  â”‚
â”‚ "â³ Assigned tenants are  â”‚          â”‚ "No verified tenants yet. â”‚
â”‚  completing onboarding.   â”‚          â”‚  Tenants must complete    â”‚
â”‚  Records will appear      â”‚          â”‚  onboarding before        â”‚
â”‚  here after verification" â”‚          â”‚  appearing here."         â”‚
â”‚                           â”‚          â”‚                           â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤          â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                           â”‚          â”‚                           â”‚
â”‚ IF COMPLETE:              â”‚          â”‚ IF COMPLETE:              â”‚
â”‚ âœ… SHOWN in table with:   â”‚          â”‚ âœ… SHOWN in table with:   â”‚
â”‚   â€¢ Name                  â”‚          â”‚   â€¢ Name                  â”‚
â”‚   â€¢ Phone                 â”‚          â”‚   â€¢ Phone                 â”‚
â”‚   â€¢ Email                 â”‚          â”‚   â€¢ Email                 â”‚
â”‚   â€¢ Property/Room         â”‚          â”‚   â€¢ Property/Room         â”‚
â”‚   â€¢ Rent Status           â”‚          â”‚   â€¢ Payment Status        â”‚
â”‚   â€¢ KYC Status            â”‚          â”‚   â€¢ KYC Status            â”‚
â”‚   â€¢ View/Verify buttons   â”‚          â”‚   â€¢ Manage buttons        â”‚
â”‚                           â”‚          â”‚                           â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜          â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## Verification Logic Flowchart

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  TENANT CLICKS DASHBOARD OR OWNER/ADMIN LOADS TENANT VIEW      â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                         â”‚
                         â¬‡ï¸
            â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
            â”‚ Load tenant from            â”‚
            â”‚ localStorage.roomhy_tenants â”‚
            â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                     â”‚
                     â¬‡ï¸
        â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
        â”‚ Check: tenant.password exists?       â”‚
        â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”˜
               â”‚                         â”‚
            YESâ”‚                         â”‚NO
               â¬‡ï¸                        â¬‡ï¸
             âœ…                    âŒ INCOMPLETE
               â”‚                   â”‚
               â¬‡ï¸                   â”‚
    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”          â”‚
    â”‚ Check:           â”‚          â”‚
    â”‚ tenant.address   â”‚          â”‚
    â”‚ && tenant.dob?   â”‚          â”‚
    â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”˜          â”‚
         YESâ”‚   â”‚NO              â”‚
           â¬‡ï¸   â¬‡ï¸                â”‚
          âœ…  âŒ              â”‚
           â”‚   â”‚               â”‚
           â”‚   â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”˜
           â”‚          â”‚
           â¬‡ï¸         â¬‡ï¸
    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
    â”‚ Check:           â”‚
    â”‚ tenant.kycStatus â”‚
    â”‚ == 'submitted'?  â”‚
    â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”˜
         YESâ”‚   â”‚NO
           â¬‡ï¸   â¬‡ï¸
          âœ…  âŒ
           â”‚   â”‚
           â”‚   â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”
           â”‚          â”‚        â”‚
           â¬‡ï¸         â¬‡ï¸       â”‚
    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”      â”‚
    â”‚ Check:           â”‚      â”‚
    â”‚ tenant.          â”‚      â”‚
    â”‚ agreementSigned  â”‚      â”‚
    â”‚ === true?        â”‚      â”‚
    â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”˜      â”‚
         YESâ”‚   â”‚NO          â”‚
           â¬‡ï¸   â¬‡ï¸            â”‚
          âœ…  âŒ            â”‚
           â”‚   â”‚             â”‚
           â”‚   â””â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”˜
           â”‚         â”‚
           â¬‡ï¸        â¬‡ï¸
        âœ…âœ…âœ…âœ…  âŒINCOMPLETE
        COMPLETE
           â”‚         â”‚
           â¬‡ï¸        â¬‡ï¸
      â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
      â”‚ DASHBOARD/RECORDS VISIBILITY â”‚
      â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
      â”‚                              â”‚
      â”‚ COMPLETE:                    â”‚
      â”‚ âœ… Show full data            â”‚
      â”‚ âœ… Allow access              â”‚
      â”‚ âœ… Display in tables          â”‚
      â”‚                              â”‚
      â”‚ INCOMPLETE:                  â”‚
      â”‚ âŒ Hide all details           â”‚
      â”‚ âŒ Block dashboard            â”‚
      â”‚ âŒ Hide from records          â”‚
      â”‚ â³ Show "pending..." message â”‚
      â”‚                              â”‚
      â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## Access Control Matrix

```
â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•—
â•‘                        TENANT DATA VISIBILITY                             â•‘
â• â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•¦â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•¦â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•¦â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•£
â•‘ Data/Feature   â•‘ Tenant (Self)    â•‘ Owner            â•‘ Super Admin       â•‘
â• â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•¬â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•¬â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•¬â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•£
â•‘ Dashboard      â•‘ After complete   â•‘ N/A              â•‘ N/A               â•‘
â•‘ Profile Info   â•‘ Always visible   â•‘ Hidden until OK  â•‘ Hidden until OK   â•‘
â•‘ KYC Docs       â•‘ Always visible   â•‘ Hidden until OK  â•‘ Hidden until OK   â•‘
â•‘ Agreement      â•‘ Always visible   â•‘ Hidden until OK  â•‘ Hidden until OK   â•‘
â•‘ Phone/Email    â•‘ Always visible   â•‘ Hidden until OK  â•‘ Hidden until OK   â•‘
â•‘ Payment Status â•‘ Always visible   â•‘ Hidden until OK  â•‘ Hidden until OK   â•‘
â•‘ Tenant Records â•‘ Own dashboard    â•‘ Only after OK    â•‘ Only after OK     â•‘
â•‘ Verification   â•‘ Can't edit       â•‘ Can verify       â•‘ Can verify        â•‘
â•‘ Status         â•‘ Always see mine  â•‘ Only completed   â•‘ Only completed    â•‘
â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•©â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•©â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•©â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•—
â•‘                     ONBOARDING COMPLETION MARKERS                          â•‘
â• â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•¦â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•£
â•‘ Status Field                   â•‘ Value When Complete                        â•‘
â• â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•¬â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•£
â•‘ tenant.password                â•‘ "hashed_password" (not null/empty)         â•‘
â•‘ tenant.passwordSet             â•‘ true                                       â•‘
â•‘ tenant.address                 â•‘ "123 Main St, City" (not empty)            â•‘
â•‘ tenant.dob                     â•‘ "1995-05-15" (valid date)                  â•‘
â•‘ tenant.kycStatus               â•‘ "submitted" OR "verified"                  â•‘
â•‘ tenant.kycSubmittedAt          â•‘ ISO timestamp                              â•‘
â•‘ tenant.agreementSigned         â•‘ true                                       â•‘
â•‘ tenant.agreementSignedAt       â•‘ ISO timestamp                              â•‘
â•‘ tenant.onboardingCompleted     â•‘ true (master flag)                         â•‘
â•‘ tenant.profileFilled           â•‘ true                                       â•‘
â•‘ tenant.completedAt             â•‘ ISO timestamp                              â•‘
â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•©â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
```

---

## localStorage Schema After Each Step

```
INITIAL (After Assignment):
{
  tenantId: "TNT-KO-001",
  loginId: "TNT-KO-001",
  name: "John Doe",
  email: "john@example.com",
  phone: "+91-9876543210",
  propertyId: "PROP-123",
  roomNo: 201,
  bedNo: "A",
  agreedRent: 5000,
  moveInDate: "2025-11-27",
  createdAt: ISO_TIMESTAMP
}

AFTER STEP 1 (Password):
{
  ... (all from above)
  password: "hashed_Test@123",
  passwordSet: true
}

AFTER STEP 2 (Profile):
{
  ... (all from above)
  address: "123 Main St, Bangalore",
  dob: "1995-05-15",
  city: "Bangalore",
  pin: "560001"
}

AFTER STEP 3 (KYC):
{
  ... (all from above)
  kycStatus: "submitted",
  kycSubmittedAt: "2025-11-27T10:30:00Z",
  aadhar: "123456789012",
  idProofUrl: "data:image/jpeg;base64,...",
  addressProofUrl: "data:image/jpeg;base64,..."
}

AFTER STEP 4 (Agreement):
{
  ... (all from above)
  agreementSigned: true,
  agreementSignedAt: "2025-11-27T11:00:00Z",
  
  âœ… COMPLETION MARKERS:
  onboardingCompleted: true,
  profileFilled: true,
  completedAt: "2025-11-27T11:00:00Z",
  
  âœ… STATUS:
  status: "active"
}
```

---

## File Dependency Graph

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚         isOnboardingComplete() Verification Function        â”‚
â”‚                                                             â”‚
â”‚  function isOnboardingComplete(tenant) {                   â”‚
â”‚    const hasPassword = tenant.password !== null;           â”‚
â”‚    const hasProfile = tenant.address && tenant.dob;        â”‚
â”‚    const hasKyc = tenant.kycStatus === 'submitted';        â”‚
â”‚    const hasAgreement = tenant.agreementSigned === true;   â”‚
â”‚    return all 4 conditions;                                â”‚
â”‚  }                                                         â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
         â”‚                         â”‚
    â”Œâ”€â”€â”€â”€â”´â”€â”€â”€â”€â”              â”Œâ”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”
    â”‚          â”‚              â”‚           â”‚
    â¬‡ï¸          â¬‡ï¸              â¬‡ï¸           â¬‡ï¸
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ tenant- â”‚ â”‚ tenant- â”‚  â”‚ tenant- â”‚ â”‚ super-     â”‚
â”‚profile  â”‚ â”‚dashboardâ”‚  â”‚rec      â”‚ â”‚ admin/     â”‚
â”‚html     â”‚ â”‚html     â”‚  â”‚html     â”‚ â”‚ tenant.htmlâ”‚
â”‚         â”‚ â”‚         â”‚  â”‚         â”‚ â”‚            â”‚
â”‚ Uses it â”‚ â”‚ Uses it â”‚  â”‚ Uses it â”‚ â”‚ Uses it    â”‚
â”‚ to set  â”‚ â”‚ to gate â”‚  â”‚ to      â”‚ â”‚ to filter  â”‚
â”‚ status  â”‚ â”‚ access  â”‚  â”‚ filter  â”‚ â”‚ records    â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
    â”‚          â”‚              â”‚           â”‚
    â””â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”â”€â”€â”€â”˜
          â”‚            â”‚              â”‚
          â¬‡ï¸            â¬‡ï¸              â¬‡ï¸
    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
    â”‚    localStorage.roomhy_tenants Array     â”‚
    â”‚                                          â”‚
    â”‚ [{ id, loginId, password, address,     â”‚
    â”‚   dob, kycStatus, agreementSigned, ... â”‚
    â”‚ }]                                     â”‚
    â”‚                                        â”‚
    â”‚ Updated on:                            â”‚
    â”‚ - Step 1: password set                â”‚
    â”‚ - Step 2: address + dob set           â”‚
    â”‚ - Step 3: kycStatus = 'submitted'     â”‚
    â”‚ - Step 4: agreementSigned = true      â”‚
    â”‚           onboardingCompleted = true  â”‚
    â”‚                                       â”‚
    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

**Last Updated:** November 27, 2025
